!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).OrbaOne={})}(this,(function(e){"use strict";function n(e){
//! check if obj is not null explicitly because null is a type of object
return!(null===e||"object"!=typeof e||void 0===e.nodeType)}var t=.01*window.parent.innerHeight;document.documentElement.style.setProperty("--vh",t+"px");function o(e){return'\n        <div style="width: 100%; text-align:center;">\n            <p style="font-weight: 600; margin:0 auto; color: #4a5568;">'+e+"</p>\n        </div>\n    "}function i(e){return e.setAttribute("style","\nfont-family: Avenir, Helvetica, Arial, sans-serif;\nfont-weight: 600;\ncolor: #2d3748;\nborder-radius: 5px;\nmin-width: 220px;\nmin-height: 65px;\nbox-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\ncursor: pointer;\n"),e.classList.add("orba-verify-button"),e.innerHTML='\n        <div style="display:flex; align-items: center;height: 100%;" >\n            <div style="display: flex;width: 20%;flex-direction: column; align-items: center; padding: 0.5rem 1rem 0 1rem;">\n                \n<svg style="height: 2.0rem;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 211.35 209.02">\n  <g id="Layer_2" data-name="Layer 2">\n    <g id="Layer_1-2" data-name="Layer 1">\n      <path\n        d="M3,70.2C18.43,9,88.83-7.82,135.38,4.16c55.55,14.3,87.56,73.07,72.06,128.37s-53.6,88.8-128.1,71.06C19.92,189.43-10,126.57,3,70.2Zm165.29,70.27c29.81-52,1.71-100.12-40-111.81S47.31,42,35.61,83.8s6.84,84,47.36,95.6c15.41,4.41,24.32,7.28,42,.92C145.61,172.9,156.47,161.14,168.31,140.47Z"\n        style="fill:#598fef"\n      />\n      <path\n        d="M3.29,84.33C13.36,23,69.77-7.4,123.4,1.54,180.05,11,219,63.94,210,120.67c-7.43,47-38.07,98.44-119.13,86.63C35.57,199.24-4.48,141.65,3.29,84.33Zm178.2,28.23c6.73-42.61-19.65-78.7-62.25-85.42s-78.46,22-87.36,64.24c-8.74,41.44,20.35,83.56,63,90.29S174.34,157.82,181.49,112.56Z"\n        style="fill:#3d71e3"\n      />\n      <path\n        d="M3,104.43A104.16,104.16,0,1,1,107.18,208.58,104.27,104.27,0,0,1,3,104.43Zm187.18,0a83,83,0,1,0-83,83A83.13,83.13,0,0,0,190.2,104.43Z"\n        style="fill:#33332e"\n      />\n    </g>\n  </g>\n</svg>\n\n                <p style="font-size:8px; color: #718096; white-space: nowrap;">By Orba One</p>\n            </div>\n            <div id="orba-one-loader" style="border-left: 1px solid #edf2f7; margin-top: 10px; margin-bottom: 10px; width:80%; display: flex; align-items:center; justify-items: center;padding: 0.5rem 1rem 0.5rem 1rem;">\n                '+o("Verify Me")+"\n            </div>\n        </div>\n    ",e}function a(e,t,a){void 0===t&&(t=!1);var r=n(e)?e:document.querySelector(e);if(!r)throw"Target Element "+r+" not found";var s=t?r:i(r),c=t?{}:function(e){if(!e)throw new Error("No loader found!");return{loading:function(){e.innerHTML='\n<svg\n  data-testid="loader"\n  style="height: 25px; width: 100px; margin: 0 auto;"\n  viewBox="0 0 135 140"\n  xmlns="http://www.w3.org/2000/svg"\n  fill="#3d71e3"\n>\n  <rect y="10" width="15" height="120" rx="6">\n    <animate\n      attributeName="height"\n      begin="0.5s"\n      dur="1s"\n      values="120;110;100;90;80;70;60;50;40;140;120"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n    <animate\n      attributeName="y"\n      begin="0.5s"\n      dur="1s"\n      values="10;15;20;25;30;35;40;45;50;0;10"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n  </rect>\n  <rect x="30" y="10" width="15" height="120" rx="6">\n    <animate\n      attributeName="height"\n      begin="0.25s"\n      dur="1s"\n      values="120;110;100;90;80;70;60;50;40;140;120"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n    <animate\n      attributeName="y"\n      begin="0.25s"\n      dur="1s"\n      values="10;15;20;25;30;35;40;45;50;0;10"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n  </rect>\n  <rect x="60" width="15" height="140" rx="6">\n    <animate\n      attributeName="height"\n      begin="0s"\n      dur="1s"\n      values="120;110;100;90;80;70;60;50;40;140;120"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n    <animate\n      attributeName="y"\n      begin="0s"\n      dur="1s"\n      values="10;15;20;25;30;35;40;45;50;0;10"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n  </rect>\n  <rect x="90" y="10" width="15" height="120" rx="6">\n    <animate\n      attributeName="height"\n      begin="0.25s"\n      dur="1s"\n      values="120;110;100;90;80;70;60;50;40;140;120"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n    <animate\n      attributeName="y"\n      begin="0.25s"\n      dur="1s"\n      values="10;15;20;25;30;35;40;45;50;0;10"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n  </rect>\n  <rect x="120" y="10" width="15" height="120" rx="6">\n    <animate\n      attributeName="height"\n      begin="0.5s"\n      dur="1s"\n      values="120;110;100;90;80;70;60;50;40;140;120"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n    <animate\n      attributeName="y"\n      begin="0.5s"\n      dur="1s"\n      values="10;15;20;25;30;35;40;45;50;0;10"\n      calcMode="linear"\n      repeatCount="indefinite"\n    />\n  </rect>\n</svg>\n'},idle:function(){e.innerHTML=o("Verify Me")},success:function(){e.innerHTML=o("Complete")},error:function(){e.innerHTML=o("Could Not Start Verification")}}}(s.querySelector("#orba-one-loader"));return{el:s,setState:function(e){t||c[e]&&(c[e](),a&&a(e))}}}var r="orba_one_success",s="orba_one_cancel",c="message";function d(e){var n=e.url,t=document.createElement("iframe");return t.allow="geolocation; microphone; camera; fullscreen;",t.src=n,t.setAttribute("style","\n position: absolute;\n top: 0;\n left: 0;\n right: 0;\n bottom:0;\n width: 100vw;\n height: 100vh;\n border: none;\n"),t.dataset.testid="orba-iframe",function(e,n){var t=n.onChange,o=n.onError,i=n.onSuccess,a=n.applicantId,d=n.companyId,l=n.onCancelled,u="idle";function p(){t(u="idle"),e&&(window.removeEventListener(c,h),f())}function f(){document.body.style.overflowY="auto",document.documentElement.style.overflowY="visible",document.body.removeChild(e)}function m(){document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden";var n=window.innerHeight.toString()+"px";document.body.style.height=n,e.style.height=n,document.body.style.marginTop="0",document.documentElement.style.height=n,document.body.appendChild(e)}function h(e){e.data===r?(a?i({applicantId:a,status:"success"}):d&&i({companyId:d,status:"success"}),p()):e.data===s?(a?l({applicantId:a,status:"cancelled"}):d&&l({companyId:d,status:"cancelled"}),p()):a?o({applicantId:a,status:"error"}):d&&o({companyId:d,status:"error"})}return e.onload=function(){t(u="success")},e.onerror=function(e){t(u="error"),o(e)},{el:e,connect:function(){if(!e)throw"No iframe found. Please attach iframe before trying to connect";"idle"===u&&(t(u="loading"),m(),window.addEventListener(c,h))},disconnect:p,status:function(){return u}}}(t,e)}e.renderButton=function(e){var t=e.target,o=e.disableStyle,i=e.onChange;if(function(e,t){if(!t)throw"Configuration object not found, please see https://docs.orbaone.com";var o={target:function(e){if("string"!=typeof e&&!n(e))throw"target "+e+" must be of type string or DOM Element, please see https://docs.orbaone.com"},apiKey:function(e){if("string"!=typeof e)throw"apiKey required, please see https://docs.orbaone.com"},onSuccess:function(e){if("function"!=typeof e)throw"onSuccess must be a function, please see https://docs.orbaone.com"},onCancelled:function(e){if("function"!=typeof e)throw"onCancelled must be a function, please see https://docs.orbaone.com"},onError:function(e){if("function"!=typeof e)throw"onError must be a function, please see https://docs.orbaone.com"},steps:function(e){if(!Array.isArray(e))throw"Verification steps field missing, please see https://docs.orbaone.com"}};return e.forEach((function(e){o[e](t[e])})),!0}(["apiKey","target","onSuccess","onCancelled","onError","steps"],e)){var r=a(t,o,i);r.el.onclick=function(){!function(e,n){var t=e.apiKey,o=e.applicantId,i=e.onSuccess,a=e.onCancelled,r=e.onError,s=e.steps,c=e.companyId;n.setState("loading"),d({url:function(e){var n=e.companyId,t=e.applicantId,o=e.apiKey,i=e.verificationUrl,a=e.steps;if(n&&t)throw"Please specify companyId or applicantId. Both fields cannot be included. Please see https://docs.orbaone.com";if(n)return i+"/company/general-info?publicKey="+o+"&companyId="+n;if(t)return i+"?publicKey="+o+"&applicantId="+t+"&steps="+a.join("&steps=");throw"Please specify companyId or applicantId. Please see https://docs.orbaone.com"}({verificationUrl:"https://staging-verify.orbaone.com/",apiKey:t,steps:s,companyId:c,applicantId:o}),applicantId:o,onSuccess:i,onCancelled:a,onError:r,onChange:function(e){n.setState(e)}}).connect()}(e,r)}}},Object.defineProperty(e,"__esModule",{value:!0})}));
